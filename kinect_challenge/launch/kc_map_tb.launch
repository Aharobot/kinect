<launch>

  <include file="$(find kinect_challenge)/launch/view_robot.launch" />
   
  <include file="$(find turtlebot_navigation)/launch/includes/gmapping.launch.xml"/>

  <include file="$(find turtlebot_navigation)/launch/includes/move_base.launch.xml"/>
  
  <node type="MSBMIOSvs.py" name = "MSBMIOSvs" pkg="kinect_challenge" >
  
    <!-- host IP address, IP address of PC running Microsoft Benchmark -->
    <!-- set to "sim" to simulate connection to the Microsoft app (always returns "OK") -->
    <param name="host_IP" type="str" value="sim" />
    
    <!-- port to talk to Microsoft Benchmark on -->
    <param name="host_port" type="int" value="7576" />
  
  </node>
  
  <node type="Mapper.py"    name = "Mapper"    pkg="kinect_challenge" >
  
    <param name="MapPath" type="str" value="$(find kinect_challenge)/maps" />
    
    <!-- Waypoints saved during mapping, file in maps folder -->
    <!-- any existing waypoint file is backed up to a file with time stamp appended to the name -->
    <param name="WaypointFile" type="str" value="waypoints.wp" />
    
    <!-- Button index for joystick button used to place a landmark -->
    <param name="lmButtonIdx"    type="int" value="0" />
    
    <!-- Button index for joystick button used to save current map -->
    <!-- map saved to map folder,  file name = map_<timestamp>.[png|yaml] -->
    <!-- map  saved to map folder, file name = map.[png|yaml] -->
    <param name="msButtonIdx"    type="int" value="2" />
    
  </node>
</launch>
